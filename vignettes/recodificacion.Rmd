---
title: "Recodificar distritos"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{recodificacion}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```




```{r setup, echo=FALSE}
library(geofaceteAR)
library(patchwork)
```


Ejemplo con grilla de Argetnina. Los valores por defecto del código de provincias corresponden al `codprov` de los escrutinios provisorios de INDRA. 


```{r echo=FALSE, message=FALSE, warning=FALSE, paged.print=FALSE}
# GRILLA POR DEFECTO
get_grid("ARGENTINA")
```



```{r echo=FALSE, message=FALSE, warning=FALSE, paged.print=FALSE}
plot <- get_grid("ARGENTINA") 

patchwork::plot_spacer() +   grid_preview(plot) + patchwork::plot_spacer() 
```


En el siguiente ejemplo podemos ver las tres opciones disponibles para el nivel provincial (*indra*, *iso*, *indec*). El primer objeto `argentina_indra` es similar al anterior, que viene con códigos por defecto. Los dos restantes corresponden a las versiones recodificadas. 

```{r}
# CODIGOS DE INDRA
argentina_indra <- get_grid("ARGENTINA") %>% 
  recode_district(type = "indra")

argentina_indra 


# CODIGOS ISO
argentina_iso <- get_grid("ARGENTINA") %>% 
  recode_district(type = "iso")

argentina_iso

# CODIGOS DE INDEC (POR DEFECTO)
argentina_indec <- get_grid("ARGENTINA") %>% 
  recode_district(type = "indec")

argentina_indec



```


Estos comandos pueden ser utiles para *linkear* más facilmente una base de datos que estemos usando, con `id` de distrito especifico, con la grilla correspondiente para un gráfico de \code{ggplot2}. De esta forma podemos acomodar las funciones `facet` con una aproximación geográfica con `facet_geo`de \code{geofacet}. Otro ejemplo de esto puede encontrarse en este [post](https://tuqmano.github.io/2019/01/21/geofacetear/).

Todas las funciones de \code{geofacet} están disponibles al cargar \code{geofaceteAR} Así, por ejemplo, podemos inspeccionar el diseño de las grillas con `grid_preview()`:

```{r}



# TODAS LAS GRILLAS

grid_preview(argentina_indra) -> a


grid_preview(argentina_iso) -> b


grid_preview(argentina_indec) -> c


(a + b + c)





```



